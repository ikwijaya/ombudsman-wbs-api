<!DOCTYPE html>
<html>

<head>
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
</head>

<body>
  <div id="vue-app">
    <v-app>
      <v-main>
        <v-toolbar app dense flat dark color="red">
            <v-toolbar-title>Service API</v-toolbar-title>
            <v-spacer></v-spacer>
        </v-toolbar>
        <v-container >
            <v-card flat>
                <v-card-text>
                    <pre>{{ item }}</pre>
                </v-card-text>
            </v-card>
        </v-container>
      </v-main>
    </v-app>
  </div>
</body>

</html>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
<script type="text/javascript">
  new Vue({
    el: '#vue-app',
    vuetify: new Vuetify(),
    data: () => {
      return {
        isLoading: false,
        item: null
      }
    },
    created() {
        this.load()
    },
    watch: {},
    methods: {
        load(){
            this.http('GET', '/version', null, (res) => {
                this.item = res
            })
        },
        http(method, url, params, callback) {
            var xhr = new XMLHttpRequest();
            var output = null
            xhr.open(method, url, true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.onloadstart = function () { this.isLoading = true }
            xhr.onload = function () {
            let arr = JSON.parse(xhr.response);
            xhr.readyState == 4 && xhr.status == 200 ? console.log('Success.') : console.log('Failed.')
            if (typeof callback === 'function') {
                callback(arr)
            }
            }
            xhr.onloadend = function () { this.isLoading = false }
            xhr.send(params);
        },
    }
  })
</script>